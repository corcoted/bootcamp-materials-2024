{
  "hash": "330c66ce5a93527099b399ef92211e5a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Visualizing Data with ggplot\"\nsubtitle: \"Prerequisites\"\nexecute:\n  echo: true\n  warning: true\nformat: \n  revealjs:\n    slide-number: true\n    incremental: true\n    theme: [\"../../templates/slides-style.scss\"]\n    logo: https://www.stat.uci.edu/bayes-bats/img/logo.png\n    title-slide-attributes: \n      data-background-image: https://www.stat.uci.edu/bayes-bats/img/logo.png\n      data-background-size: 12%\n      data-background-position: 50% 75%\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n## Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  survived pclass    sex age    fare    embarked\n1    FALSE  Third   male  22  7.2500 Southampton\n2     TRUE  First female  38 71.2833   Cherbourg\n3     TRUE  Third female  26  7.9250 Southampton\n4     TRUE  First female  35 53.1000 Southampton\n5    FALSE  Third   male  35  8.0500 Southampton\n6    FALSE  Third   male  NA  8.4583  Queenstown\n```\n\n\n:::\n:::\n\n\n\n## Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntail(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    survived pclass    sex age   fare    embarked\n886    FALSE  Third female  39 29.125  Queenstown\n887    FALSE Second   male  27 13.000 Southampton\n888     TRUE  First female  19 30.000 Southampton\n889    FALSE  Third female  NA 23.450 Southampton\n890     TRUE  First   male  26 30.000   Cherbourg\n891    FALSE  Third   male  32  7.750  Queenstown\n```\n\n\n:::\n:::\n\n\n\n## Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 891\nColumns: 6\n$ survived <lgl> FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, TRUE, TRâ€¦\n$ pclass   <chr> \"Third\", \"First\", \"Third\", \"First\", \"Third\", \"Third\", \"First\"â€¦\n$ sex      <fct> male, female, female, female, male, male, male, male, female,â€¦\n$ age      <dbl> 22, 38, 26, 35, 35, NA, 54, 2, 27, 14, 4, 58, 20, 39, 14, 55,â€¦\n$ fare     <dbl> 7.2500, 71.2833, 7.9250, 53.1000, 8.0500, 8.4583, 51.8625, 21â€¦\n$ embarked <fct> Southampton, Cherbourg, Southampton, Southampton, Southamptonâ€¦\n```\n\n\n:::\n:::\n\n\n\n\n##\n\n::: {.font75}\n\nVisuals with a Single Categorical Variable\n\n:::\n\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\nIf you could speak to R in English, how would you tell R to make this plot for you?\n\nOR\n\nIf you had the data and had to draw this bar plot by hand, what would you do?\n\n:::\n\n::: {.column width=\"60%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n\n\n\n\n## 3 Steps of Making a Basic ggplot\n\n1.Pick data\n\n2.Map data onto aesthetics\n\n\n3.Add the geometric layer\n\n\n\n## Step 1 - Pick Data\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = titanic)\n```\n:::\n\n\n\n:::\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n## Step 2 - Map Data to Aesthetics\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(data = titanic,\n       aes(x = pclass)) \n```\n:::\n\n\n\n:::\n\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n\n\n## Step 3 - Add the Geometric Layer\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = titanic,\n       aes(x = pclass)) +\n  geom_bar() \n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n\n\n\n:::\n\n::::\n\n## \n\n::: {.panel-tabset}\n\n## Plot\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## English\n\nCreate a ggplot using the `titanic` data frame.\n\nMap the `pclass` to the x-axis. \n\nAdd a layer of a bar plot.\n\n## R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = titanic,\n       aes(x = pclass)) +\n  geom_bar()\n```\n:::\n\n\n\n\n:::\n\n\n##\n\n:::{.font75}\n\nVisualizing a Single Numeric Variable\n\n:::\n\n::: {.panel-tabset}\n\n## Plot\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-14-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n## English\n\nCreate a ggplot using the `titanic` data frame.\n\nMap the `fare` to the x-axis. \n\nAdd a layer of a histogram.\n\n\n## R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = titanic,\n       aes(x = fare)) +\n  geom_histogram() \n```\n:::\n\n\n\n:::\n\n## What is this warning?\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-16-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n##\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = titanic,\n       aes(x = fare)) +\n  geom_histogram(binwidth = 15) \n```\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-17-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n\n\n##\n\n::: {.panel-tabset}\n\n\n## binwidth = 15\n\n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-18-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## binwidth = 50\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-19-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n## binwidth = 100\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-20-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n## \n\n[There is no \"best\" number of bins](https://en.wikipedia.org/wiki/Histogram#Number_of_bins_and_width)\n\n\n\n\n##\n\n:::.{font150}\n\nðŸŒˆ\n:::\n\n\nPick your favorite color(s) from the list at:\n\n[bit.ly/colors-r](https://bit.ly/colors-r)\n\nor you can use hex codes.\n\n##\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(data = titanic,\n       aes(x = fare)) +\n  geom_histogram(binwidth = 15, \n                 color = \"white\") \n```\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-21-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n---\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(data = titanic,\n       aes(x = fare)) +\n  geom_histogram(binwidth = 15, \n                 fill = \"darkred\") \n```\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-22-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n---\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplot(data = titanic,\n       aes(x = fare)) +\n  geom_histogram(binwidth = 15, \n                 color = \"white\", \n                 fill = \"darkred\") \n```\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-23-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n\n\n:::{.font75}\n\nVisualizing Two Categorical Variables\n\n:::\n\n\n\n## Stacked Bar-Plot\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(data = titanic,\n       aes(x = pclass, \n           fill = survived)) \n  geom_bar() \n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::::\n\n\n\n## Standardized Bar Plot\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(data = titanic,\n       aes(x = pclass, \n           fill = survived)) + \n  geom_bar(position = \"fill\") \n```\n:::\n\n\n\n\n:::\n\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-27-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\nNote that y-axis is no longer count but we will learn how to change that later.\n\n\n\n## New Data\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/penguins.png){fig-align='center'}\n:::\n:::\n\n\n\nArtwork by [@allison_horst](https://twitter.com/allison_horst) \n\n\n\n## New Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelâ€¦\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerseâ€¦\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, â€¦\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, â€¦\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186â€¦\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, â€¦\n$ sex               <fct> male, female, female, NA, female, male, female, maleâ€¦\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007â€¦\n```\n\n\n:::\n:::\n\n\n\n---\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](img/penguin_bill.png){fig-align='center'}\n:::\n:::\n\n\n\nArtwork by [@allison_horst](https://twitter.com/allison_horst)\n\n\n##\n\n:::{.font75}\n\nVisualizing a single numerical and single categorical variable\n\n:::\n\n\n:::: {.columns}\n\n::: {.column width=\"50%}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = species,\n           y = bill_length_mm))  +\n  geom_violin()\n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%}\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_ydensity()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-32-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n##\n\n:::{.font75}\n\nVisualizing a single numerical and single categorical variable\n\n:::\n\n\n:::: {.columns}\n\n::: {.column width=\"50%}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = species,\n           y = bill_length_mm))  +\n  geom_boxplot()\n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%}\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-34-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n\n\n\n##\n\n:::{.font75}\n\nVisualizing Two Numerical Variables\n\n:::\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm))  +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-36-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n\n::::\n\n\n\n##\n\n:::{.font75}\n\nConsidering More Than Two Variables\n\n:::\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm,\n           color = species)) +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-38-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n##\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm,\n           shape = species)) +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-40-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n##\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm,\n           shape = species)) +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-42-1.png){width=960}\n:::\n:::\n\n\n\n:::\n::::\n\n##\n\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm,\n           shape = species,\n           color = species)) +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-44-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n##\n\n::::{.columns}\n\n::: {.column width=\"50%\"}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,\n       aes(x = bill_depth_mm,\n           y = bill_length_mm,\n           shape = species,\n           color = species,\n           size = body_mass_g)) +\n  geom_point()\n```\n:::\n\n\n\n:::\n\n\n\n\n::: {.column width=\"50%\"}\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](4-lec-ggplot_files/figure-revealjs/unnamed-chunk-46-1.png){width=960}\n:::\n:::\n\n\n\n:::\n\n::::\n\n##\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](img/ggplot-summary.jpeg){width=95%}\n:::\n:::\n\n\n\n\n## tidyverse style guide\n\n`+` should always have a space before it and be followed by a new line.\n\n## Further Resources\n\n- [the ggplot flipbook](https://evamaerey.github.io/ggplot_flipbook/ggplot_flipbook_xaringan.html#1)\n- [ggplot2 book](https://ggplot2-book.org/)\n- [TidyTuesday](https://github.com/rfordatascience/tidytuesday) and #TidyTuesday on Twitter.\n\n\n## Practice\n\nUsing either the `babies`, `titanic` or `penguins` data frame ask a question that you are interested in answering. Visualize data to get a visual answer to the question. What is the visual telling you? Note all of this down in your lecture notes.\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}